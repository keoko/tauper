#+title: Tasks
* Tasks
** DONE stop timer when in paused status
** DONE skip question
** TODO create table with player names and scores instead of bullet points
** TODO show score with 0
** DONE score with timing
** TODO once answered the question, hide question and display message waiting next question
** DONE timer goes too fast
I didn't return properly the state in sart_game and there were multiple timers active at the same time.
** TODO display player score in paused state
** DONE change phoenix header with a tauper game
** DONE build questions based on user-provided params (e.g. max number of questions, columns, etc.)
** DONE stop game
** DONE time per question
** TODO add the rest of elements
** TODO if all players have answered the question move to the next one
** TODO display periodic table with highlighted cell
** TODO remove game schema
The game data has been moved to the genserver, so there is no need to keep the game data in DB.
** TODO remove game actions not needed (edit game, etc.)
** TODO rename live_game.ex to live/game_live/new.ex
** TODO can we remove "next_question" event?
It looks like "status_changed" would be enough.
** DONE move next question to show liveview
** DONE different views based on game owner/player
yes, it should be split in 2 views: one to handle the game by the game owner, and the other one will be the player view.
** DONE do we have to use different channel topics per game?
it would help to reduce the propagation of unnecessary messages between games
** DONE next question does not refresh all users
** DONE start game does not refresh all users
send event when there is any game change?
** DONE show podium as last page
** DONE start game
** DONE next question
** DONE game status
** DONE remove games schema and use gensver instead.
** DONE shuffle list of questions
** TODO keep players list in the game server? or only in the presence?
It could be interesting to keep the list of users in the game server to control only allowed users can play.
** TODO multiple liveviews or liveview with compoments?
** TODO how to handle changed game state to refresh liveviews?
- send whole game state as response for any request?
- send only changed state
- do not send any state. LiveViews will request data if needed based on events received.

** TODO how to validate schenaless ecto list of type enum
https://alexgaribay.com/ecto-enum-in-schemaless-changesets/
** DONE score
** DONE learn about presence
** DONE learn about channels
** DONE create game resource
** DONE game changeset
** DONE game code unique index / constraint?
** DONE generate game code when creating game
** DONE create new game
** DONE list participants in game page
** DONE on_mount
** DONE how to connect iex to list the presence list of users
** DONE how to pass game-id through the live route
** DONE how to move render function to a live template
create a file in the same liveview folder with name {liveview_name}.html.heex
** DONE how to login a player
** DONE do we have a live view page or a live view compoent?
** DONE how sessions work in liveview
** DONE what is the difference between a request session and liveview session
** TODO what is live_socket_id
** DONE list only participants of the game
** TODO disable start game if there are no players in the game
** DONE change header to Passa Paraula
** DONE join game
** DONE start game
* Concepts
** Game
** Player
** Score
** Turn
** Player Team
** Word
** Timer?

* References
** Sasa Juric card game https://www.theerlangelist.com/article/spawn_or_not
** GenServer, DynamicSupervisor and Registry: The Elixir Triad To Manage Processes https://levelup.gitconnected.com/genserver-dynamicsupervisor-and-registry-the-elixir-triad-to-manage-processes-a65d4c3351c1
** Multiplayer Go with Elixir's Registry, PubSub and dynamic supervisors https://blog.appsignal.com/2019/08/13/elixir-alchemy-multiplayer-go-with-registry-pubsub-and-dynamic-supervisors.html

* Elixir feeling
** no documentation how to manage explicit javascript in phoenix
** no clear documentation about liveview
** maps with key strings or atoms?
** keyword lists and maps are confusing
** keyword lists and atoms are confusing

* LiveView
** upload files
** secure liveviews
** TODO component liveviews
** SEO-friendly
** optimised data transfer
** TODO does it add extra load to the system? manage all websocket connections?
* Nice to haves
** i18n
** ECS
** elixir state machines gen fsm?
** watcher mode: connect to a game just for wantching the game
